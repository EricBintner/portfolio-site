<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>PB Holiday Card 2012</title>

<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>

<script type="text/javascript" src="js/random2.js" defer="defer"></script>
<script type="text/javascript" src="js/JPMsignature.js" defer="defer"></script>
<script type="text/javascript" src="js/txt_EN.js" defer="defer"></script>

<style>
body {
	 background-color:transparent;
	 -ms-transform-origin: top left;
    -webkit-transform-origin: top left;
    transform-origin: top left;
    margin: 0;
    padding: 0;
} 

#container{
	width: 655px;
    height: 651px;
    margin: 0;
    z-index: 0;
    position: relative;
    overflow: hidden;
    background-color: #ffffff;
    -ms-transform-origin: top left;
    -webkit-transform-origin: top left;
    transform-origin: top left;
    top: 0 !important;
    box-sizing: border-box;

}
#paper{
	width:655px;
	height:651px;
	height:591px;
	z-index:5000;
	position:absolute;
	top:0;
	left:0;
}
#paperBG{
	width:655px;
	height:651px;
	height:591px;
	z-index:0;
	position:absolute;
	top:0;
	left:0;
}
#rsr{
	padding:30px;
	width:595px;
	height:591px;
	z-index:400;
	position:relative;
}
#jpm{
	padding:30px;
	width:287px;
	height:94px;
	z-index:6000;
	position:absolute;
	top:484px;
	left:110px;
} 
#txt_{
	padding:0px;
	width:655px; 
	height:94px;
	z-index:6000;
	position:absolute;
	top:290px;
	left:0px;
}
</style> 
</head> 
  
<body>
<div id="container">
    <div id="jpm"></div>
	<div id="txt_"></div>
    <div id="paper"></div> 
	<div id="rsr"></div>
    <div id="paperBG"></div>
</div>
        
<script type="text/javascript" defer="defer"> 
var paper 	= Raphael('paper', 	'655', '651');
var paperBG = Raphael('paperBG','655', '651');
 

var  preload_images = function (){ 
   pload = []; 
   parray =     [ 
               'img/gold_BG2.jpg', 
               ]; 
   for(var i = 0;i<parray.length;i++){ 
       pload[i]  = new Image(); 
       pload[i].src = parray[i]; 
   } 
 } 


var image = paperBG.image("img/gold_BG2.jpg", 0, 0,1400, 651);
image.attr({x:-500, 'opacity': '0'});
image.animate({'opacity': '0', 'opacity': '1'},500, 'easeInOut'); 
//image.animate(anim.delay(1000)); 
</script> 

<![if ! IE]>
<script type="text/javascript" defer="defer"> 
var image = paperBG.image("img/gold_BG2.jpg", 0, 0, 2500, 651);
image.attr({ 'opacity': '.5', x:-700});
image.animate({'opacity': '.5','opacity': '.2', x:-100}, 8000, 'easeInOut'); 

var image = paperBG.image("img/gold_BG2.jpg", 0, 0, 2500, 651);
image.attr({ 'opacity': '0', x:-700});
var anim = Raphael.animation({'opacity': '0','opacity': '.7',x:-1200, x:-700},8000, 'easeInOut'); 
image.animate(anim.delay(3000));
</script>
<![endif]>

<script type="text/javascript" defer="defer"> 
var image = paper.image("img/gold_BG2.jpg", 0, 0, 2500, 651);
image.attr({x:-1100, 'opacity': '0'});
var anim = Raphael.animation({'opacity': '0', 'opacity': '1'}, 7000, 'easeInOut');
image.animate(anim.delay(14000));
</script>

<![if ! IE]>
<script type="text/javascript" defer="defer"> 
var image = paper.image("img/gold_BG2.jpg", 0, 0, 2400, 651);
image.attr({x:-549, 'opacity': '0'});
var anim = Raphael.animation({x:-1300, 'opacity': '0', 'opacity': '.7'}, 18000, 'easeInOut');
image.animate(anim.delay(10000));
</script>
<![endif]>


<script type="text/javascript" defer="defer">
	window.onload = function() {
		randoms();
    signature();
		txt_();
	};
	
	
</script>

<![if ! IE]>
<script type="text/javascript" defer="defer"> 
var fillColor = {fill: 'url(img/grad.png)','stroke-width': '0', 'opacity': '0',}
</script>
<![endif]>
<!--[if IE]>
<script type="text/javascript" defer="defer"> 
var fillColor = {fill: '#FFFFFF','stroke-width': '0', 'opacity': '0',}
</script><![endif]-->






<script>
// scalable container

var pageWidth, pageHeight;

var basePage = {
  width: 655,
  height: 651,
  scale: 1,
  scaleX: 1,
  scaleY: 1
};

$(function(){
  var $page = $('#container');
  
  getPageSize();
  scalePages($page, pageWidth, pageHeight);
  
  //using underscore to delay resize method till finished resizing window
  $(window).resize(function () {
    getPageSize();            
    scalePages($page, pageWidth, pageHeight);
  });
  

function getPageSize() {
  pageHeight = $('body').height();
  pageWidth = $('body').width();
}

function scalePages(page, maxWidth, maxHeight) {            
  var scaleX = 1, scaleY = 1;                      
  scaleX = maxWidth / basePage.width;
  scaleY = maxHeight / basePage.height;
  basePage.scaleX = scaleX;
  basePage.scaleY = scaleY;
  basePage.scale = (scaleX > scaleY) ? scaleY : scaleX;

  var newLeftPos = Math.abs(Math.floor(((basePage.width * basePage.scale) - maxWidth)/2));
  var newTopPos = Math.abs(Math.floor(((basePage.height * basePage.scale) - maxHeight)/2));

  page.attr('style', '-webkit-transform:scale(' + basePage.scale + ');left:' + newLeftPos + 'px;top:' + newTopPos + 'px;');
}
});

console.log = function() {};

parent.heightWidth(651,655); 

</script>



</body>  
</html> 
    